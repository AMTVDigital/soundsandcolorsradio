!function($){"use strict";var emergencyTimeout=!1;$.ProradioAjaxPreloader={init:function(){this.num=$("#proradio-ajax-num"),this.progressBar=$("#proradio-ajax-progress"),this.progressBar.css({transform:"scaleX(0)"}),this.mask=$("#proradio-ajax-mask"),this.mask.hasClass("proradio-ajax-visible")&&(this.show(),this.start())},perc:0,show:function(){this.mask.addClass("proradio-ajax-visible"),this.progressBar.animate({transform:"scaleX(0)"},0),this.perc=0,this.num.html("0%")},start:function(t){void 0===t&&(t=$("body"));var a,e,o=t.find("img").size(),s=0,i=this.progressBar,r=this.num,n=this.mask;r.html("0%"),i.animate({transform:"scaleX(0)"},0,(function(){i.hide()})),t.imagesLoaded().done((function(){emergencyTimeout=setTimeout((function(){n.removeClass("proradio-ajax-visible")}),1e4)})).progress((function(l,c){if(emergencyTimeout&&clearTimeout(emergencyTimeout),o>0){if(i.show(),c.isLoaded){$(c.img).addClass("proradio-ajax-loaded"),a=t.find("img.proradio-ajax-loaded").size(),(s=Math.ceil(a/o*100))>100&&(s=100);var d=parseInt(r.html()),p=setInterval((function(){d+=1,r.html(d+"%"),e=d/100,i.css({transform:"scaleX("+e+")"}),d==s&&(100==s&&setTimeout((function(){i.animate({transform:"scaleX(0)"},0,(function(){i.hide()})),setTimeout((function(){n.removeClass("proradio-ajax-visible"),emergencyTimeout&&clearTimeout(emergencyTimeout)}),5)}),5),clearInterval(p))}),3)}}else r.html("100%"),i.css({transform:"scaleX(1)"}),setTimeout((function(){i.animate({transform:"scaleX(0)"},0,(function(){i.hide()})),setTimeout((function(){n.removeClass("proradio-ajax-visible")}),60)}),60)}));var l=!1;l&&clearTimeout(l),l=setTimeout((function(t){i.animate({transform:"scaleX(0)"},0,(function(){i.hide()})),setTimeout((function(){n.removeClass("proradio-ajax-visible")}),300)}),6e3)}};var qtAplSelector="#proradio-ajax-master",qtAplMaincontent=$(qtAplSelector),atAplPreloader=$("#qtajaxpreloadericon");$.fn.qtAplFallbackLink=function(t,a,e){if(!1!==t)return t;a&&window.location.replace(a)},$.fn.qtAplScrollTop=function(){return $("html, body").animate({scrollTop:0},100),!0},$(".wpml-ls-item").on("click","a",(function(t){return $.fn.qtAplFallbackLink(t,$(this).attr("href"),"001"),t})),$.fn.qtAplInitAjaxPageLoad=function(){function qtAplExecuteAjaxLink(link){var docClass,parser;return jQuery("#proradio-ajax-mask").hasClass("proradio-changeloader")&&$.ProradioAjaxPreloader.show(),$.ajax({url:link,success:function(data){if($.fn.qtAplScrollTop(),$.ajaxData=data,parser=new DOMParser,$.qtAplAjaxContents=$($.ajaxData).find(qtAplSelector).html(),$.qtAplAjaxTitle=$($.ajaxData).filter("title").text(),docClass=$($.ajaxData).filter("body").attr("class"),$.qtAplBodyMatches=data.match(/<body.*class=["']([^"']*)["'].*>/),void 0!==$.qtAplBodyMatches&&null!==$.qtAplBodyMatches){docClass=$.qtAplBodyMatches[1];var modifiedAjaxResult=data.replace(/<body/i,'<div id="re_body"').replace(/<\/body/i,"</div"),bodyClassesNew=$(modifiedAjaxResult).filter("#re_body").attr("class"),js_composer_front_css=$(modifiedAjaxResult).filter("#js_composer_front-inline-css").text();bodyClassesNew&&(docClass=bodyClassesNew),bodyClassesNew.indexOf("proradio-ajax-skip")>0?$.fn.qtAplFallbackLink(!1,link,"003"):($.wpadminbar=$($.ajaxData).filter("#wpadminbar").html(),$.visual_composer_styles=$($.ajaxData).filter("style[data-type=vc_shortcodes-custom-css]").text(),$("#qwLLT")&&($.langswitcher=$($.ajaxData).find("#qwLLT").html()),void 0!==docClass&&void 0!==$.qtAplAjaxContents?($("body").attr("class",docClass),$("title").text($.qtAplAjaxTitle),$("#wpadminbar").html($.wpadminbar),$("#qwLLT").html($.langswitcher),$("style[data-type=vc_shortcodes-custom-css]").length>0?$("style[data-type=vc_shortcodes-custom-css]").append($.visual_composer_styles):$("head").append('<style type="text/css"  data-type="vc_shortcodes-custom-css">'+$.visual_composer_styles+"</style>"),""!=js_composer_front_css&&0!=js_composer_front_css&&null!=js_composer_front_css?$("style#js_composer_front-inline-css").length>0?$("style#js_composer_front-inline-css").html(js_composer_front_css):$("head").append('<style id="js_composer_front-inline-css">'+js_composer_front_css+"</style>"):$("head style#js_composer_front-inline-css").remove(),qtAplMaincontent.html($.qtAplAjaxContents).delay(100).promise().done((function(){var scripts=qtAplMaincontent.find("script"),jsurl,cssurl;(scripts.length>0&&scripts.each((function(){var code=$(this).html();code="("+code+")";try{eval($(this).html())}catch(t){console.log(t)}})),!0===$.ProRadioMainObj.fn.initializeAfterAjax())?(qtAplMaincontent.fadeTo("fast",1).promise().done((function(){var t=link.split("#");if(t.length>1){var a=$("#"+t[1]);if(a.length>0){var e=a.offset().top;return void $("html, body").animate({scrollTop:e},400)}}})),$.getScript($("#qt-ajax-customscript-url").data("customscripturl")).done((function(t,a){})).fail((function(t,a,e){})),$.targetScripts=$($.ajaxData).filter("script"),$.targetScripts.length>0&&$.each($.targetScripts,(function(t,a){jsurl=$(a).attr("src"),/elementor\/assets/i.test(jsurl)&&$.getScript(jsurl)})),$.targetStyles=$($.ajaxData).filter("link[rel='stylesheet']"),$.targetStyles.length>0&&$.each($.targetStyles,(function(t,a){cssurl=$(a).attr("href"),0==jQuery("link[href*='"+cssurl+"']").length&&$("head").append('<link rel="stylesheet" id="'+$(a).attr("id")+'" href="'+cssurl+'" media="'+$(a).attr("media")+'">')})),"object"==typeof window.elementorFrontend?elementorFrontend.init():console.log("Ajax Page Load notice: Not possible to reinit"),$.each($("#qt-ajax-pageload-woocommerce-scripts").data(),(function(t,a){$.getScript(a)})),"object"==typeof $.qtmplayerRadioFeedObj&&void 0!==$.qtPlayerObj.songdata&&$.qtmplayerRadioFeedObj.fn.pushFeed($.qtPlayerObj.songdata),jQuery("#proradio-ajax-mask").hasClass("proradio-changeloader")&&$.ProradioAjaxPreloader.start(qtAplMaincontent)):$.fn.qtAplFallbackLink(!1,link,"004")}))):$.fn.qtAplFallbackLink(!1,link,"005"))}else $.fn.qtAplFallbackLink(!1,link,"002")},error:function(){$.fn.qtAplFallbackLink(!1,link,"006")}}),!0}$("body").off("click","a").on("click","a",(function(t){var a=$(this),e=$(this).attr("href");if(void 0===e)return t;if(""===e)return t;$.each($("#qt-ajax-pageload-woocommerce-urls").data(),(function(a,o){if(e===o)return t}));var o=$(location).attr("href").split("#")[0],s=e.split("#");if(s[0]===o&&s.length>1)return t;if(a.hasClass("ajax_add_to_cart")||a.parent().hasClass("noajax")||!e.match(document.domain)||"_blank"===a.attr("target")||a.hasClass("noajax")||"submit"===a.attr("type")||"button"===a.attr("type")||e.match(/(\/respond|\/wp-admin|mailto:|\.zip|\.jpg|\.gif|\.mp3|\.pdf|\.png|\.rar|#noajax|noajax|download_file)/))return t;if(e.match(document.domain)){t.preventDefault();try{if(window.history.pushState){var i=e;i!==window.location&&window.history.pushState({path:i,state:"new"},"",i)}}catch(t){console.log(t)}$("li.current_page_item").removeClass("current_page_item"),a.closest("li").addClass("current_page_item"),qtAplExecuteAjaxLink(e),qtAplMaincontent.fadeTo(100,0,(function(){$.fn.qtAplScrollTop()}))}})),$(window).on("popstate",(function(t){var a;if(null!==t.originalEvent.state){if(void 0!==(a=location.href)){if(!a.match(document.domain))return void $.fn.qtAplFallbackLink(!1,link,"006");qtAplMaincontent.fadeTo("fast",0,(function(){$.fn.qtAplScrollTop()})).promise().done((function(){qtAplExecuteAjaxLink(a)}))}}else if(void 0!==(a=location.href)){if(!a.match(document.domain))return void $.fn.qtAplFallbackLink(!1,a,"007");var e=$(location).attr("href").split("#")[0],o=a.split("#");if(o[0]===e&&void 0!==o[1]){var s=$("#"+o[1]);if(s.length>0){var i=s.offset().top;return t.preventDefault(),$("html, body").animate({scrollTop:i},1500),!1}return t}qtAplMaincontent.fadeTo("fast",0,(function(){$.fn.qtAplScrollTop()})).promise().done((function(){qtAplExecuteAjaxLink(a)}))}}))},jQuery(document).ready((function(){$.fn.qtAplInitAjaxPageLoad(),$.ProradioAjaxPreloader.init()}))}(jQuery);
//# sourceMappingURL=proradio-ajax-pageload-min.js.map